try { Id contentDocumentId = '069d2000003lFfVAAU'; Id jobApplicationId = 'a0Ad2000000xihlEAA'; Id positionId = 'a0Bd200000Ab9OMEAZ'; System.debug('Rozpoczynam analizę CV...'); Map<String, Object> analysisResults = CVAnalysisService.analyzeCandidateResume(contentDocumentId, positionId, true); System.debug('Analiza CV zakończona, liczba kluczy w wynikach: ' + analysisResults.size()); System.debug('Zapisuję wyniki analizy...'); String resultsJson = JSON.serialize(analysisResults); Id updatedRecordId = CVAnalysisController.saveAnalysisResults(jobApplicationId, resultsJson); System.debug('Wyniki analizy zapisane pomyślnie dla rekordu: ' + updatedRecordId); } catch (Exception e) { System.debug('BŁĄD: ' + e.getMessage()); System.debug('Stack trace: ' + e.getStackTraceString()); }
